nodejs:
  releaseNameOverride: ${SERVICE_NAME}-nodejs
  ingressHost: ${SERVICE_FQDN}
  image: ${IMAGE_NAME}
  applicationPort: 3100
  memoryRequests: 256Mi
  cpuRequests: 0.2
  memoryLimits: 512Mi
  cpuLimits: 1
  environment:
    # Node specific vars
    USE_CSRF_PROTECTION: true
    SECURITY_REFERRER_POLICY: origin
    HPKP_MAX_AGE: 2592000
    HPKP_SHA256S: Set-proper-SHA256s
    NODE_ENV: production
    UV_THREADPOOL_SIZE: 64
    NODE_CONFIG_DIR: ./config
    TS_BASE_URL: ./src/main

    # Logging vars
    REFORM_TEAM: ccd
    REFORM_SERVICE_NAME: admin-web

    # Application vars
    # IDAM
    IDAM_BASE_URL: https://idam-api.aat.platform.hmcts.net
    IDAM_S2S_URL: http://rpe-service-auth-provider-aat.service.core-compute-aat.internal
    IDAM_ADMIN_WEB_SERVICE_KEY: ${IDAM_SERVICE_KEY}
    IDAM_SERVICE_NAME: ccd_admin

    IDAM_OAUTH2_TOKEN_ENDPOINT: https://idam-api.aat.platform.hmcts.net/oauth2/token
    IDAM_OAUTH2_LOGOUT_ENDPOINT: https://idam-api.aat.platform.hmcts.net/session/:token
    IDAM_OAUTH2_CLIENT_ID: ccd_admin
    IDAM_OAUTH2_AW_CLIENT_SECRET: ${OAUTH2_CLIENT_SECRET}

    ADMINWEB_LOGIN_URL: https://idam-test.dev.ccidam.reform.hmcts.net/login

    # Storage Account
    #STORAGEACCOUNT_PRIMARY_CONNECTION_STRING: ${data.azurerm_key_vault_secret.storageaccount_primary_connection_string.value}
    #STORAGEACCOUNT_SECONDARY_CONNECTION_STRING: ${data.azurerm_key_vault_secret.storageaccount_secondary_connection_string.value}
    #STORAGE_CONTAINER_IMPORTS_CONTAINER_NAME: ${azurerm_storage_container.imports_container.name}
